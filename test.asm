C1: EQU 01h
C2: EQU 02h
D: EQU 03h
B1: EQU 04h
B2: EQU 05h
A1: EQU 06h
A2: EQU 07h

	LD	ACC,00h
	ST	ACC,[C1]
	ST	ACC,[C2]
	LD	ACC,10h
	ST	ACC,[D]
L0:	LD	ACC,[D]
	SUB	ACC,00h
	BZ	L5
	LD	ACC,[C1]
	SLA	ACC
	ST	ACC,[C1]
	LD	ACC,[C2]
	BC	L1
	SLA	ACC
	ST	ACC,[C2]
	BA	L2
L1:	SLA	ACC
	ADD	ACC,01h
	ST	ACC,[C2]
L2:	LD	ACC,[B2]
	AND	ACC,80h
	BZ	L3
	LD	ACC,[C1]
	RCF
	ADC	ACC,[A1]
	ST	ACC,[C1]
	LD	ACC,[C2]
	ADC	ACC,[A2]
	ST	ACC,[C2]
L3:	LD	ACC,[D]
	SUB	ACC,01h
	ST	ACC,[D]
	LD	ACC,[B1]
	SLA	ACC	
	ST	ACC,[B1]
	LD	ACC,[B2]
	BC	L4
	SLA	ACC
	ST	ACC,[B2]
	BA	L0
L4:	SLA	ACC
	ADD	ACC,01h
	ST	ACC,[B2]
	BA	L0
L5:	HLT
	END

